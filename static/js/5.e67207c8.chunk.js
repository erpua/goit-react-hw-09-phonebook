(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[5],{194:function(e,t,a){"use strict";var n=a(1),r=a(3),c=a(0),o=(a(8),a(6)),s=a(12),i=a(17),l=a(178),u=a(14),d=c.forwardRef((function(e,t){var a=e.edge,s=void 0!==a&&a,i=e.children,d=e.classes,m=e.className,b=e.color,f=void 0===b?"default":b,p=e.disabled,h=void 0!==p&&p,j=e.disableFocusRipple,v=void 0!==j&&j,O=e.size,C=void 0===O?"medium":O,g=Object(r.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return c.createElement(l.a,Object(n.a)({className:Object(o.a)(d.root,m,"default"!==f&&d["color".concat(Object(u.a)(f))],h&&d.disabled,"small"===C&&d["size".concat(Object(u.a)(C))],{start:d.edgeStart,end:d.edgeEnd}[s]),centerRipple:!0,focusRipple:!v,disabled:h,ref:t},g),c.createElement("span",{className:d.label},i))}));t.a=Object(s.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(i.c)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(i.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(i.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(d)},197:function(e,t,a){e.exports={section:"Section_section__j1o3c",title:"Section_title__baElC"}},198:function(e,t,a){e.exports={form:"Form_form__Hg4RH",label:"Form_label__5AxSJ",labelName:"Form_labelName__3MDs2",add:"Form_add__3F4AR",info:"Form_info__1nKc3"}},199:function(e,t,a){"use strict";var n=a(67),r=a(68);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(69)).default)(c.createElement("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");t.default=o},200:function(e,t,a){e.exports={link:"Contacts_link__3ru3u",btnContainer:"Contacts_btnContainer__1d8Do",editInput:"Contacts_editInput__3JMAp",save:"Contacts_save__3ZnK7",cancel:"Contacts_cancel__2gg1b",edit:"Contacts_edit__1xv4o",delete:"Contacts_delete__1ZJeo"}},201:function(e,t,a){"use strict";var n=a(67),r=a(68);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(69)).default)(c.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=o},202:function(e,t,a){"use strict";var n=a(67),r=a(68);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(69)).default)(c.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=o},203:function(e,t,a){"use strict";var n=a(67),r=a(68);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(69)).default)(c.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},204:function(e,t,a){"use strict";var n=a(67),r=a(68);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(69)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},220:function(e,t,a){"use strict";a.r(t);var n=a(197),r=a.n(n),c=a(2),o=function(e){var t=e.title,a=e.children;return Object(c.jsxs)("section",{className:r.a.section,children:[Object(c.jsx)("h1",{children:t}),a]})},s=a(77),i=a(0),l=a.n(i),u=a(19),d=a(57),m=a(30),b=a.n(m),f=a(55),p=a(35),h=a.n(p),j=a(18);h.a.defaults.baseURL="https://connections-api.herokuapp.com";var v={addContact:function(e){var t=e.name,a=e.number;return function(){var e=Object(f.a)(b.a.mark((function e(n){var r,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(j.a.addContactRequest()),r={name:t,number:a},e.prev=2,e.next=5,h.a.post("/contacts",r);case 5:c=e.sent,o=c.data,n(j.a.addContactSuccess(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n(j.a.addContactError(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},deleteContact:function(e){return function(){var t=Object(f.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(j.a.deleteContactRequest()),t.prev=1,t.next=4,h.a.delete("/contacts/".concat(e));case 4:a(j.a.deleteContactSuccess(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a(j.a.deleteContactError(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},fetchContacts:function(){return function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(j.a.fetchContactsRequest()),e.prev=1,e.next=4,h.a.get("/contacts");case 4:a=e.sent,n=a.data,t(j.a.fetchContactsSuccess(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(j.a.fetchContactsError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},updateContact:function(e){var t=e.name,a=e.number,n=e.id;return function(){var e=Object(f.a)(b.a.mark((function e(r){var c,o,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(j.a.updateContactRequest()),c={name:t,number:a},e.prev=2,e.next=5,h.a.patch("/contacts/".concat(n),c);case 5:o=e.sent,s=o.data,r(j.a.updateContactSuccess(s)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r(j.a.updateContactError(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}},O=a(198),C=a.n(O),g=a(219),x=a(194),_=a(199),y=a.n(_);function k(){var e=Object(u.c)(),t=Object(u.d)(d.a.getContacts),a=Object(i.useCallback)((function(t){var a=t.name,n=t.number;e(v.addContact({name:a,number:n}))}),[e]),n=Object(i.useState)(""),r=Object(s.a)(n,2),o=r[0],l=r[1],m=Object(i.useState)(""),b=Object(s.a)(m,2),f=b[0],p=b[1],h=function(e){var t=e.target,a=t.name,n=t.value;"name"===a?l(n):p(n)};return Object(c.jsxs)("form",{className:C.a.form,onSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name.toLowerCase()===o.toLowerCase()})),r=t.find((function(e){return e.number===f}));n?alert("".concat(o," is already in contacts")):r?alert("".concat(f," is already in contacts")):(a({name:o,number:f}),l(""),p(""))},children:[Object(c.jsx)(g.a,{multiline:!0,margin:"normal",required:!0,id:"name",label:"Name",name:"name",autoComplete:"off",autoFocus:!0,value:o,onChange:h,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only contain letters, apostrophes, dashes and spaces."}),Object(c.jsx)(g.a,{multiline:!0,margin:"normal",required:!0,id:"number",label:"Number",name:"number",autoComplete:"off",autoFocus:!0,value:f,onChange:h,pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",title:"The phone number must be 11-12 digits and can contain numbers, spaces, dashes, bully brackets and can start with +"}),Object(c.jsx)(x.a,{type:"submit",className:C.a.btn,children:Object(c.jsx)(y.a,{fontSize:"large"})})]})}var z=a(200),w=a.n(z),N=a(204),S=a.n(N),R=a(203),E=a.n(R),F=a(202),M=a.n(F),A=a(201),L=a.n(A);function H(){var e=Object(u.c)(),t=Object(u.d)(d.a.getFilteredContacts),a=Object(u.d)(d.a.getLoading),n=Object(i.useCallback)((function(t){e(v.deleteContact(t))}),[e]),r=Object(i.useCallback)((function(){e(v.fetchContacts())}),[e]);Object(i.useEffect)((function(){r()}),[r]);var o=Object(i.useCallback)((function(t){var a=t.name,n=t.number,r=t.id;e(v.updateContact({name:a,number:n,id:r}))}),[e]),m=Object(i.useState)({status:!1,rowKey:null}),b=Object(s.a)(m,2),f=b[0],p=b[1],h=Object(i.useState)(null),j=Object(s.a)(h,2),O=j[0],C=j[1],_=Object(i.useState)(null),y=Object(s.a)(_,2),k=y[0],z=y[1],N=function(e){var a=e.name,n=e.number,r=e.id,c=t.find((function(e){return e.name.toLowerCase()===a.toLowerCase()&&e.id!==r})),s=t.find((function(e){return e.number===n&&e.id!==r}));c?alert("".concat(a," is already in contacts")):s?alert("".concat(n," is already in c")):(!function(e){var t=e.name,a=e.number,n=e.id;o({name:t,number:a,id:n})}({name:a,number:n,id:r}),R())},R=function(){p({status:!1,rowKey:null}),C(null),z(null)};return Object(c.jsxs)("ul",{className:"container",children:[a&&Object(c.jsx)("h1",{children:"Downloading..."}),t.map((function(e){var t=e.name,a=e.number,r=e.id;return Object(c.jsx)("li",{className:w.a.link,children:f.status&&f.rowKey===r?Object(c.jsxs)(l.a.Fragment,{children:[Object(c.jsxs)("form",{children:[Object(c.jsx)(g.a,{className:w.a.editInput,multiline:!0,margin:"normal",required:!0,id:"name",label:"Name",name:"name",autoComplete:"off",autoFocus:!0,value:O,onChange:function(e){return C(e.target.value)},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only contain letters, apostrophes, dashes and spaces."}),Object(c.jsx)(g.a,{className:w.a.editInput,multiline:!0,margin:"normal",required:!0,id:"number",label:"Number",name:"number",autoComplete:"off",autoFocus:!0,value:k,onChange:function(e){return z(e.target.value)},pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",title:"The phone number must be 11-12 digits and can contain numbers, spaces, dashes, bully brackets and can start with +"})]}),Object(c.jsx)(x.a,{className:"btn-success",onClick:function(){return N({id:r,name:O,number:k})},children:Object(c.jsx)(L.a,{})}),Object(c.jsx)(x.a,{className:"btn-secondary",onClick:function(){return R()},children:Object(c.jsx)(M.a,{})})]}):Object(c.jsxs)(l.a.Fragment,{children:[Object(c.jsx)("p",{children:t}),Object(c.jsx)("p",{children:a}),Object(c.jsxs)("div",{className:w.a.btnContainer,children:[Object(c.jsx)(x.a,{className:"btn-primary",onClick:function(){return function(e){var t=e.id,a=e.currentUnitName,n=e.currentUnitNumber;p({status:!0,rowKey:t}),C(a),z(n)}({id:r,currentUnitName:t,currentUnitNumber:a})},children:Object(c.jsx)(E.a,{})}),Object(c.jsx)(x.a,{"aria-label":"delete",className:"btn-primary",onClick:function(){return n(r)},children:Object(c.jsx)(S.a,{})})]})]})},r)}))]})}t.default=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(o,{title:"Phonebook",children:Object(c.jsx)(k,{})}),Object(c.jsx)(o,{title:"Contacts",children:Object(c.jsx)(H,{})})]})}}}]);
//# sourceMappingURL=5.e67207c8.chunk.js.map